<h1>콕(KOK) | 빈 자리에 콕, 채우는 가능성</h1>
<img width="1280" height="720" alt="슬라이드메인" src="https://github.com/user-attachments/assets/792e1f6c-ff5d-47e9-a301-cf6aaa0c1d32" />
  <h2>1. 프로젝트 소개</h2>
    <p>휴가나 공백으로 발생한 자리에서,
    단순한 대체 인력이 아닌 청년에게 실제 업무 환경을 경험할 수 있는 기회를 제공하는 서비스이다.
    경험을 중심으로 한 성장의 순환을 지향하며,
    업무의 공백을 기회로 바꾸고 사람의 가능성을 연결한다.</p>
    <h2>2. 개발 기간</h2>
    <p>2025. 09. 24 ~ 2025. 10. 20</p>
    <h2>3. 맴버구성 - 백엔드 업무</h2>
    <ul>
        <li>팀장 : 정은유 - 체험공고, 인턴공고, 마이페이지, 체험자 평가</li>
        <li>부팀장 : 김신영 - 회원가입, 로그인, 메인</li>
        <li>팀원1 : 김다애 - 기업콘솔</li>
        <li>팀원2 : 정희준 - 기업목록, 커뮤니티</li>
        <li>팀원3 : 성윤미 - 관리자</li>
    </ul>
    <h2>4. 기획 배경</h2>
<img width="1280" height="720" alt="슬라이드2" src="https://github.com/user-attachments/assets/3ea201b8-3b9e-43d1-944f-2f9aeadef5a7" />
    <p>많은 청년들이 취업을 준비하면서도 실제 업무 환경을 경험할 기회가 부족하다.
    이로 인해 경력보다 경험이 중요한 시대에 ‘준비된 인재’로 성장하기 어렵다는 한계가 존재한다.
    KOK는 이러한 문제의식에서 출발했다.
    휴가나 공백으로 생긴 기업의 자리를
    단순한 인력 대체가 아닌 청년의 실무 경험의 장으로 바꾸고자 했다.<br/><br/>
    기업은 청년에게 실제 직무를 체험할 기회를 제공하고, 그 과정에서 자사의 문화와 일하는 방식을 자연스럽게 알린다.
    체험을 마친 청년은 평가를 통해 인턴으로 연계되며,
    기업은 그 과정을 통해 브랜딩과 인재 발굴 효과를 함께 얻는다.
    KOK는 청년에게는 경험의 기회, 기업에게는 브랜드의 기회, 그리고 사회에는 연결의 가치를 만들어가는 플랫폼이다.</p>
    <h2>5. 기대효과</h2>
    <img width="1280" height="720" alt="슬라이드4" src="https://github.com/user-attachments/assets/a647b4d3-cfb7-4a85-9c57-1c42d991c067" />
    <strong>청년에게 새로운 직무 체험 기회를 제공</strong>
    <ul>
        <li>실제 기업의 업무 환경을 직접 경험하며, 자신에게 맞는 직무나 산업을 탐색할 수 있다.</li>
        <li>단순한 인턴십이 아닌 ‘업무 체험형 참여’를 통해 일의 흐름과 조직 문화를 자연스럽게 이해한다.</li>
        <li>체험 이후 기업의 평가를 통해 인턴으로 연계될 수 있는 기회의 문이 열린다.</li>
    </ul>
    <strong>기업의 브랜드 홍보 및 인재 연결 강화</strong>
    <ul>
        <li>체험 프로그램을 통해 기업 문화를 외부에 자연스럽게 알리는 홍보 효과를 얻는다.</li>
        <li>청년층과의 긍정적인 접점을 통해 브랜드 신뢰도를 높인다.</li>
        <li>체험을 통해 기업에 관심을 가진 청년을 인턴이나 향후 채용으로 연결할 수 있다.</li>
    </ul>
    <strong>사회적 고용 연결 구조 형성</strong>
    <ul>
        <li>공백 인력을 단순히 대체하는 것이 아니라, 청년의 경험 기회로 전환하여 상호 이익의 순환 구조를 만든다.</li>
        <li>기업, 청년, 사회가 함께 참여하는 새로운 형태의 고용 문화가 확산된다.</li>
    </ul>
    <strong>"KOK는 청년에게는 ‘체험의 기회’를, 기업에게는 ‘브랜딩의 기회’를, 사회에는 ‘연결의 가치’를 만든다."</strong>
    <h2>5. 개발환경</h2>
    <ul>
        <li>Java</li>
        <li>Java Spring Data</li>
        <li>Thymeleaf</li>
        <li>QueryDSL</li>
        <li>Spring Boot</li>
        <li>HTML, CSS, JS</li>
        <li>JDK 11.0.15</li>
        <li>YAML</li>
        <li>JSON</li>
        <li>REST:API</li>
        <li>IntelliJ IDEA</li>
        <li>git, gitHub</li>
        <li>Lombok</li>
        <li>Boot pay</li>
        <li>Naver OAuth</li>
        <li>Kakao OAuth</li>
    </ul>
    <h2>6. ERD</h2>
    <img width="7866" height="7332" alt="tbl_admin_notice-white" src="https://github.com/user-attachments/assets/7d9d3374-1d2e-4855-8d26-6eafa6c1ad6c" />
    <h2>7. 담당업무</h2>
    <strong>프론트엔드</strong>
    <p>▶ 체험(PC, Mobile)</p>
    <ul>
        <li>체험 목록</li>
        <li>체험 상세, 간편지원</li>
    </ul>
    <p>▶ 인턴 목록(PC, Mobile)</p>
    <ul>
        <li>인턴 목록</li>
        <li>인턴 상세, 간편지원</li>
    </ul>
    <p>▶ 기업</p>
    <ul>
        <li>기업목록</li>
        <li>기업홈</li>
    </ul>
    <div><img width="100%" height="auto" alt="프론트 퍼블리싱 진행률" src="https://github.com/user-attachments/assets/8f99974a-0e9b-43a2-9a60-0ba40ff65c78" /></div>
    <strong>백엔드</strong>
    <p>▶ 기업콘솔 메인</p>
    <ul>
        <li>체험 공고 집계
          <ul>
            <li>기업별 등록된 체험 공고를 활성화, 비활성화 상태 기준으로 카운트하여 대시보드에 표시</li>
          </ul>
        </li>
        <li>인턴 공고 집계
          <ul>
            <li>기업별 등록된 인 공고를 활성화, 비활성화 상태 기준으로 카운트하여 대시보드에 표시</li>
          </ul>
        </li>
        <li>체험자 리스트
          <ul>
            <li>해당 기업의 체험 지원자 중 최근 체험을 완료한 인원을 조회</li>
          </ul>
        </li>
    </ul>
    <p>▶ 기업 프로필 관리</p>
    <ul>
        <li>프로필 등록
          <ul>
            <li>기업 기본정보(회사명, 대표자명, 산업분류, 기업 규모 등) 및 이미지(프로필/배경) 등록</li>
            <li>AWS S3를 이용한 이미지 업로드 및 URL 저장</li>
          </ul>
        </li>
        <li>프로필 수정
          <ul>
            <li>기존 기업 정보와 이미지 파일을 수정</li>
            <li>파일 교체 시 기존 파일 삭제 후 새 URL로 업데이트</li>
            <li>Spring Cache 적용(@CacheEvict, @Cacheable)으로 조회 시 캐싱 및 수정 시 캐시 초기화 처리</li>
          </ul>
        </li>
    </ul>
    <p>▶ 기업 체험 공고</p>
    <ul>
        <li>체험 목록
          <ul>
            <li>ExperienceNoticeStatusTask 스케줄러를 통해 기간이 지난 공고는 자동으로 상태 변경</li>
            <li>10개 단위 페이징 처리 (Criteria 클래스 이용)</li>
            <li>검색 조건: 체험공고명, 직군명(experience_job_category)으로 필터링</li>
            <li>REST API 방식으로 데이터 전달(/api/enterprise-console/experience/list/{page})</li>
            <li>삭제 시 실제 데이터 삭제가 아닌 status를 INACTIVE로 변경</li>
            <li>모집 상태 토글 시 ACTIVE ↔ INACTIVE로 상태 실시간 전환</li>
          </ul>
        </li>
        <li>체험 등록
          <ul>
            <li>기업이 체험 공고를 등록할 수 있도록 Form 데이터를 수신</li>
          </ul>
        </li>
        <li>체험 수정
          <ul>
            <li>기존 공고 불러오기(findDetailById) 후 변경된 필드만 업데이트</li>
          </ul>
        </li>
        <li>체험 지원자 목록
          <ul>
            <li>기업별 체험 공고에 지원한 모든 지원자 리스트 조회</li>
            <li>이력서 파일이 존재하면 다운로드 버튼 활성화 - 여러명일땐 zip파일</li>
          </ul>
        </li>
        <li>체험 지원자 상세
          <ul>
            <li>지원상태(AWAIT, ACCEPT, REJECT)별 필터링 가능</li>
            <li>이력서 다운로드 버튼 클릭 시 AWS S3 URL 발급 다운로드 처리</li>
          </ul>
        </li>
    </ul>
    <p>▶ 기업 인턴 공고</p>
    <ul>
        <li>인턴 목록
          <ul>
            <li>ExperienceNoticeStatusTask 스케줄러를 통해 기간이 지난 공고는 자동으로 상태 변경</li>
            <li>10개 단위 페이징 처리 (Criteria 클래스 이용)</li>
            <li>검색 조건: 체험공고명, 직군명(intern_job_category)으로 필터링</li>
            <li>REST API 방식으로 데이터 전달(/api/enterprise-console/intern/list/{page})</li>
            <li>삭제 시 실제 데이터 삭제가 아닌 status를 INACTIVE로 변경</li>
            <li>모집 상태 토글 시 ACTIVE ↔ INACTIVE로 상태 실시간 전환</li>
          </ul>
        </li>
        <li>인턴 등록
          <ul>
            <li>기업이 체험 공고를 등록할 수 있도록 Form 데이터를 수신</li>
          </ul>
        </li>
        <li>인턴 수정
          <ul>
            <li>기존 공고 불러오기(findDetailById) 후 변경된 필드만 업데이트</li>
          </ul>
        </li>
        <li>인턴 지원자 목록
          <ul>
            <li>기업별 인턴 공고에 지원한 모든 지원자 리스트 조회</li>
            <li>이력서 파일이 존재하면 다운로드 버튼 활성화 - 여러명일땐 zip파일</li>
          </ul>  
        </li>
        <li>인턴 지원자 상세
          <ul>
            <li>지원상태(AWAIT, ACCEPT, REJECT)별 필터링 가능</li>
            <li>이력서 다운로드 버튼 클릭 시 AWS S3 URL 발급 다운로드 처리</li>
          </ul>
        </li>
    </ul>
    <p>▶ 기업 광고</p>
    <ul>
        <li>광고 목록
          <ul>
            <li>기업이 등록한 광고를 목록 형태로 조회</li>
            <li>관리자 승인상태에 따라 광고 게시 가능(ACTIVE ↔ INACTIVE)</li>
          </ul>
        </li>
        <li>광고 등록(결제)
          <ul>
            <li>Bootpay API를 통한 결제 프로세스 구현</li>
            <li>광고 배경 이미지 업로드(S3) 및 광고기간 자동 계산</li>
          </ul>
        </li>
        <li>광고 수정
          <ul>
            <li>수정 시 기존 결제내역은 유지하고 광고 정보만 업데이트</li>
          </ul>
        </li>
    </ul>
    <p>▶ 기업 결제관리</p>
    <ul>
        <li>결제 목록
          <ul>
            <li>기업별 결제 내역 조회</li>
          </ul>
        </li>
    </ul>
    <div>
      <img width="100%" height="auto" alt="프론트 백엔드 진행률" src="https://github.com/user-attachments/assets/aafe8f75-c2c2-49af-a3a1-684bce05e791" />
    </div>
    <h2>트러블 슈팅</h2>
    <h3>insert, update 소통 부재로 인한 오류</h3>
    <p>문제 없이 정상 동작하던 기능에서 갑자기 에러가 발생해 당황스러웠다. <br/>
        기업 프로필 수정 화면에서 업종과 기업 규모를 선택하고 저장하면 DB의 기존 값을 갱신(UPDATE)하는 구조였고, 관련된 updateCompanySector() 메서드 역시 정상적으로 존재했다. <br/>
        그런데 실행 시 “updateCompanySector를 찾을 수 없다” 라는 이해하기 어려운 오류가 발생했다. 메서드는 분명히 잘 있는데 왜 못 찾는다는 걸까? 추적 과정에서 알게 된 진짜 원인은 팀원과의 작업 충돌이었다.<br/>
        다른 팀원이 회원가입 시 기본 업종/규모 값이 자동으로 INSERT되도록 수정해두었고, 이로 인해 기업 프로필 수정 단계에서 DB에 이미 값이 존재하는데 또다시 INSERT가 일어나며 제약조건 충돌이 발생한 것이었다. 즉, “없는 값을 수정한다”는 전제를 둔 기존 로직이 “이미 값이 존재하는 상황”과 맞지
        않게 된 것이다.</p>
    <div>
        <img width="100%" height="auto" alt="3 insert문제-소통의부재" src="https://github.com/user-attachments/assets/3dd4ec09-d70d-4af0-88bb-e3f7763f2ccd" />
        <img width="1288" height="632" alt="3 insert문제-소통의부재2" src="https://github.com/user-attachments/assets/4e8fa94a-b699-49af-b189-3c8305d11efd" />
        <img width="1576" height="709" alt="3 insert문제-소통의부재3" src="https://github.com/user-attachments/assets/4b788c8a-9ee2-43cb-892d-1437766903f7" />
    </div>
    <strong>해결방법</strong>
    <p>에러 메시지만 보면 updateCompanySector() 메서드에서 문제가 발생한 것처럼 보여서 해당 부분을 집중적으로 확인했지만, 원인을 쉽게 찾기 어려웠다.<br/>
그래서 관점을 바꿔, 데이터가 흐르는 전 과정을 처음부터 다시 추적해보기로 했다.<br/><br/>
그 과정에서 기업 가입 시 기본 업종과 기업 규모를 자동으로 INSERT하는 로직이 팀원에 의해 추가되었다는 사실을 확인했다.
기존에는 값이 없는 상태에서 INSERT만 하면 되었지만, 이제는 기본값이 이미 존재하기 때문에 INSERT 대신 UPDATE로 처리해야 했다.<br/><br/>
해당 부분을 UPDATE로 수정한 뒤에는 에러 없이 정상적으로 작동하는 것을 확인할 수 있었다.
이후 확인해보니 이 변경 사항은 슬랙에 공유되어 있었고, 내가 그 내용을 놓쳐서 생긴 문제였다.<br/><br/>
이 경험을 통해
단순히 기술적인 실수가 아닌, 협업 과정의 작은 소통 누락도 큰 문제를 만들 수 있다는 점을 깨달았다.
또한 데이터가 어떤 흐름과 방식으로 생성되고 변경되는지 처음부터 끝까지 이해하는 것이 얼마나 중요한지 직접 느낀 사례였다.</p>
<div>
    <img width="1534" height="784" alt="3 insert문제-소통의부재-문제해결" src="https://github.com/user-attachments/assets/7ff711c4-ed72-4463-bfae-0db0096c5f4a" />
</div>
    <h3>companyId를 노출문제</h3>
    <strong>문제 상황</strong>
    <p>기존에는 쿼리스트링으로 작업하면서 기업 아이디가 노출되는 보안 문제가 발생했다.</p>
    <div>
      <img width="100%" height="auto" alt="2 companyId 노출 문제(수정)" src="https://github.com/user-attachments/assets/4bad24bf-970f-443a-92fd-b8286e57f13e" />
    </div>
    <strong>해결방법</strong>
    <p>이를 해결하기 위해 처음에는 데이터를 body에 담아 전송하는 방법을 고려했으나, 결국 화면에서 아이디를 전달받는 방식 대신, 컨트롤러에서 직접 인증 정보(CustomUserDetails)를 주입받는 방식이 더 안전하고 구조적으로 깔끔하다는 점을 깨달았다.</p>
    <div>
      <img width="100%" height="auto" alt="2 companyId 노출 문제 해결(수정)" src="https://github.com/user-attachments/assets/09a83249-a27a-4222-9503-cf10ff7fc2a4" />
    </div>
    <br/>
    <h3>API 기반 페이지를 Thymeleaf 동기 방식으로 전환한 구조 개선</h3>
    <strong>문제 상황</strong>
    <p>초기에는 화면 등록 및 수정 기능을 API(fetch 기반 비동기 통신) 방식으로 구현했다.
하지만 실제 화면을 완성해보니, 해당 페이지는 화면 갱신이 잦지 않고 인증된 사용자만 접근하는 영역이었다.
따라서 굳이 REST API를 유지하기보다, Spring MVC + Thymeleaf의 동기 처리 방식으로 구성하는 것이
보안과 유지보수 측면에서 더 적합하다고 판단했다.</p>
    <div><img width="100%" height="auto" alt="공고등록, 수정 부분 리팩토링 문제" src="https://github.com/user-attachments/assets/fde32110-f209-47dc-9a74-b2b18268f950" /></div>
    <strong>해결방법</strong>
    <ul>
        <li>컨트롤러를 REST API가 아닌 View Controller 형태로 변경</li>
        <li>등록/수정 후에는 리다이렉트 방식으로 흐름 제어하여 사용자 경험 단순화</li>
        <li>인증 정보(@AuthenticationPrincipal)를 컨트롤러에서 직접 주입받도록 수정</li>
    </ul>
    <div><img width="100%" height="auto" alt="공고등록, 수정 부분 리팩토링 문제" src="https://github.com/user-attachments/assets/9528bb1f-b384-44af-860b-80d7e7910dd5" /></div>
    <br/>
    <h3>느낀점</h3>
    <p>AWS S3 업로드, Bootpay 결제 연동, Redis 캐싱, 스케줄러 자동 상태 변경 등
단순한 CRUD를 넘어서 “실제 운영 중인 서비스가 어떻게 돌아가는지”를 직접 체감했다.
특히 캐시 적용 후 데이터 수정 시 캐시 무효화(@CacheEvict)의 중요성을 이해했고,
S3의 presigned URL 방식을 통해 파일 다운로드의 보안성과 효율성을 동시에 다루는 법을 배웠다.
이 과정에서 데이터 일관성과 트랜잭션 관리의 중요성을 깊이 체감했다.</p>
<p>Mapper XML 오류, Enum 매핑 문제, 중복 키 예외, 캐시 미반영, 파일 null 값 등
다양한 문제를 직접 마주하면서 단순한 원인 파악을 넘어서 “왜 이런 상황이 생겼는가”를 분석하는 습관이 생겼다.
그 덕분에 같은 문제가 다시 생겨도 훨씬 빠르게 해결할 수 있는 자신감이 생겼다.</p>
<p>프로젝트를 진행하면서 느낀 건, 운영하기 좋은 시스템은 결국 유지보수가 쉬운 시스템이라는 점이었다.
기능이 많아질수록 “관리와 수정이 편한 구조”가 얼마나 중요한지를 몸으로 배웠다.</p>
<p>이번 프로젝트는 나에게 “백엔드”의 의미를 완전히 새롭게 정의한 시간이었다.
코드 한 줄보다 더 중요한 건, 데이터의 흐름과 시스템의 안정성을 책임지는 개발자의 시선이라는 걸 알게 되었다.
이제는 기능 구현을 넘어, 운영과 유지보수까지 고려한 전체 구조를 설계하는 개발자로 성장하고 싶다.</p>
